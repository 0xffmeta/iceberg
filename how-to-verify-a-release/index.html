<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://iceberg.apache.org/how-to-verify-a-release/">
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>How To Verify A Release - Apache Iceberg</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <link href="../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "How to Verify a Release", url: "#_top", children: [
              {title: "Validating a source release candidate", url: "#validating-a-source-release-candidate" },
              {title: "Testing release binaries", url: "#testing-release-binaries" },
              {title: "Voting", url: "#voting" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <!--
 - Licensed to the Apache Software Foundation (ASF) under one or more
 - contributor license agreements.  See the NOTICE file distributed with
 - this work for additional information regarding copyright ownership.
 - The ASF licenses this file to You under the Apache License, Version 2.0
 - (the "License"); you may not use this file except in compliance with
 - the License.  You may obtain a copy of the License at
 -
 -   http://www.apache.org/licenses/LICENSE-2.0
 -
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS,
 - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 - See the License for the specific language governing permissions and
 - limitations under the License.
 -->

<h1 id="how-to-verify-a-release">How to Verify a Release<a class="headerlink" href="#how-to-verify-a-release" title="Permanent link">&para;</a></h1>
<p>Each Apache Iceberg release is validated by the community by holding a vote. A community release manager
will prepare a release candidate and call a vote on the Iceberg
<a href="https://iceberg.apache.org/#community/#mailing-lists">dev list</a>.
To validate the release candidate, community members will test it out in their downstream projects and environments.
It&rsquo;s recommended to report the Java, Scala, Spark, Flink and Hive versions you have tested against when you vote.</p>
<p>In addition to testing in downstream projects, community members also check the release&rsquo;s signatures, checksums, and
license documentation.</p>
<h2 id="validating-a-source-release-candidate">Validating a source release candidate<a class="headerlink" href="#validating-a-source-release-candidate" title="Permanent link">&para;</a></h2>
<p>Release announcements include links to the following:</p>
<ul>
<li><strong>A source tarball</strong></li>
<li><strong>A signature (.asc)</strong></li>
<li><strong>A checksum (.sha512)</strong></li>
<li><strong>KEYS file</strong></li>
<li><strong>GitHub change comparison</strong></li>
</ul>
<p>After downloading the source tarball, signature, checksum, and KEYS file, here are instructions on how to
verify signatures, checksums, and documentation.</p>
<h3 id="verifying-signatures">Verifying Signatures<a class="headerlink" href="#verifying-signatures" title="Permanent link">&para;</a></h3>
<p>First, import the keys.</p>
<pre><code class="language-bash">curl https://dist.apache.org/repos/dist/dev/iceberg/KEYS -o KEYS
gpg --import KEYS
</code></pre>
<p>Next, verify the <code>.asc</code> file.</p>
<pre><code class="language-bash">gpg --verify apache-iceberg-0.12.1.tar.gz.asc
</code></pre>
<h3 id="verifying-checksums">Verifying Checksums<a class="headerlink" href="#verifying-checksums" title="Permanent link">&para;</a></h3>
<pre><code class="language-bash">shasum -a 512 apache-iceberg-0.12.1.tar.gz.sha512
</code></pre>
<h3 id="verifying-license-documentation">Verifying License Documentation<a class="headerlink" href="#verifying-license-documentation" title="Permanent link">&para;</a></h3>
<p>Untar the archive and change into the source directory.</p>
<pre><code class="language-bash">tar xzf apache-iceberg-0.12.1.tar.gz
cd apache-iceberg-0.12.1
</code></pre>
<p>Run RAT checks to validate license headers.</p>
<pre><code class="language-bash">dev/check-license
</code></pre>
<h3 id="verifying-build-and-test">Verifying Build and Test<a class="headerlink" href="#verifying-build-and-test" title="Permanent link">&para;</a></h3>
<p>To verify that the release candidate builds properly, run the following command.</p>
<pre><code class="language-bash">./gradlew build
</code></pre>
<h2 id="testing-release-binaries">Testing release binaries<a class="headerlink" href="#testing-release-binaries" title="Permanent link">&para;</a></h2>
<p>Release announcements will also include a maven repository location. You can use this
location to test downstream dependencies by adding it to your maven or gradle build.</p>
<p>To use the release in your maven build, add the following to your <code>POM</code> or <code>settings.xml</code>:</p>
<pre><code class="language-xml">...
  &lt;repositories&gt;
    &lt;repository&gt;
      &lt;id&gt;iceberg-release-candidate&lt;/id&gt;
      &lt;name&gt;Iceberg Release Candidate&lt;/name&gt;
      &lt;url&gt;${MAVEN_URL}&lt;/url&gt;
    &lt;/repository&gt;
  &lt;/repositories&gt;
...
</code></pre>
<p>To use the release in your gradle build, add the following to your <code>build.gradle</code>:</p>
<pre><code class="language-groovy">repositories {
    mavenCentral()
    maven {
        url &quot;${MAVEN_URL}&quot;
    }
}
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <code>${MAVEN_URL}</code> with the URL provided in the release announcement</p>
</div>
<h3 id="verifying-with-spark">Verifying with Spark<a class="headerlink" href="#verifying-with-spark" title="Permanent link">&para;</a></h3>
<p>To verify using spark, start a <code>spark-shell</code> with a command like the following command:</p>
<pre><code class="language-bash">spark-shell \
    --conf spark.jars.repositories=${MAVEN_URL} \
    --packages org.apache.iceberg:iceberg-spark3-runtime:0.12.1 \
    --conf spark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions \
    --conf spark.sql.catalog.local=org.apache.iceberg.spark.SparkCatalog \
    --conf spark.sql.catalog.local.type=hadoop \
    --conf spark.sql.catalog.local.warehouse=${LOCAL_WAREHOUSE_PATH} \
    --conf spark.sql.catalog.local.default-namespace=default \
    --conf spark.sql.defaultCatalog=local
</code></pre>
<h3 id="verifying-with-flink">Verifying with Flink<a class="headerlink" href="#verifying-with-flink" title="Permanent link">&para;</a></h3>
<p>To verify using Flink, start a Flink SQL Client with the following command:</p>
<pre><code class="language-bash">wget ${MAVEN_URL}/iceberg-flink-runtime/0.12.1/iceberg-flink-runtime-0.12.1.jar

sql-client.sh embedded \
    -j iceberg-flink-runtime-0.12.1.jar \
    -j ${FLINK_CONNECTOR_PACKAGE}-${HIVE_VERSION}_${SCALA_VERSION}-${FLINK_VERSION}.jar \
    shell
</code></pre>
<h2 id="voting">Voting<a class="headerlink" href="#voting" title="Permanent link">&para;</a></h2>
<p>Votes are cast by replying to the release candidate announcement email on the dev mailing list
with either <code>+1</code>, <code>0</code>, or <code>-1</code>.</p>
<blockquote>
<p>[ ] +1 Release this as Apache Iceberg 0.12.1
[ ] +0<br />
[ ] -1 Do not release this because&hellip;  </p>
</blockquote>
<p>In addition to your vote, it&rsquo;s customary to specify if your vote is binding or non-binding. Only members
of the Project Management Committee have formally binding votes. If you&rsquo;re unsure, you can specify that your
vote is non-binding. To read more about voting in the Apache framework, checkout the
<a href="https://www.apache.org/foundation/voting.html">Voting</a> information page on the Apache foundation&rsquo;s website.</p>

  <br>
</div>

<footer class="container-fluid wm-page-content"><p>Copyright 2018-2021 <a href='https://www.apache.org/'>The Apache Software Foundation</a><br />Apache Iceberg, Iceberg, Apache, the Apache feather logo, and the Apache Iceberg project logo are either registered<br />trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>